@{
    ViewData["Title"] = "Password Reset Successful";
}

<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="text-center mb-4">
            <i class="bi bi-check-circle" style="font-size: 5rem; color: #198754;"></i>
        </div>

        <h2 class="text-center mb-4 text-success">@ViewData["Title"]</h2>

        <div class="alert alert-success text-center">
            <h5 class="alert-heading">
                <i class="bi bi-shield-check"></i> Your Password Has Been Reset
            </h5>
            <p class="mb-0">
                You can now log in to your account using your new password.
            </p>
        </div>

        <div class="card">
            <div class="card-body">
                <h6 class="card-title">
                    <i class="bi bi-lightbulb"></i> Security Tips:
                </h6>
                <ul class="mb-0">
                    <li>Keep your password secure and don't share it with anyone</li>
                    <li>Use a unique password for this account</li>
                    <li>Consider using a password manager</li>
                    <li>Enable two-factor authentication when available</li>
                    <li>Change your password regularly</li>
                </ul>
            </div>
        </div>

        <div class="d-grid gap-2 mt-4">
            <a asp-action="Login" asp-controller="Account" class="btn btn-primary btn-lg">
                <i class="bi bi-box-arrow-in-right"></i> Login Now
            </a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">
                <i class="bi bi-house"></i> Go to Home
            </a>
        </div>

        <div class="alert alert-warning mt-4">
            <i class="bi bi-exclamation-triangle"></i>
            <strong>Didn't request a password reset?</strong>
            <p class="mb-0 mt-2">
                If you didn't request this password reset, your account may be compromised.
                Please <a asp-controller="Home" asp-action="Index" class="alert-link">contact support</a> immediately.
            </p>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        let countdown = 10;
        const countdownElement = document.createElement('p');
        countdownElement.className = 'text-center text-muted mt-3';
        countdownElement.innerHTML = `<small>Redirecting to login in <strong id="countdown">${countdown}</strong> seconds...</small>`;
        document.querySelector('.col-md-6').appendChild(countdownElement);

        const timer = setInterval(function() {
            countdown--;
            document.getElementById('countdown').textContent = countdown;

            if (countdown <= 0) {
                clearInterval(timer);
                window.location.href = '@Url.Action("Login", "Account")';
            }
        }, 1000);

        // Cancel auto-redirect if user interacts with the page
        document.addEventListener('click', function() {
            clearInterval(timer);
            countdownElement.remove();
        });
    </script>
}
@* 
<style>
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .bi-check-circle {
        animation: fadeIn 0.5s ease-in-out;
    }

    .card {
        animation: fadeIn 0.7s ease-in-out;
    }

    .btn {
        animation: fadeIn 1s ease-in-out;
    }
</style>
 *@